<!DOCTYPE html>
<html lang="de" data-bs-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rezepte ‚Äì Gem√ºsegenossen Dresden n.e.V.</title>
  <meta name="description" content="Rezepte bei den Gem√ºsegenossen Dresden n.e.V. ‚Äì solidarisch, vegan, nachhaltig.">
  <meta name="keywords" content="Gem√ºsegenossen, Rezepte, Dresden, vegan, nachhaltig, Verein">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-success fixed-top shadow">
  <div class="container-fluid">
    <a class="navbar-brand" href="../index.html">Gem√ºsegenossen</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="../index.html#about">√úber uns</a></li>
        <li class="nav-item"><a class="nav-link" href="../index.html#angebot">Angebot</a></li>
        <li class="nav-item"><a class="nav-link" href="events.html">Events</a></li>
        <li class="nav-item"><a class="nav-link" href="mitglieder.html">Mitglieder</a></li>
        <li class="nav-item"><a class="nav-link active" href="rezepte.html">Rezepte</a></li>
        <li class="nav-item"><a class="nav-link" href="kontakt.html">Kontakt</a></li>
      </ul>
    </div>
  </div>
</nav>

<main class="container py-5 mt-5">

  <h1 class="text-success mb-4">Vegane Rezepte mit Gem√ºse</h1>
  <p>Unsere Lieblingsrezepte vereinen Kreativit√§t, Regionalit√§t und pflanzlichen Genuss. Ideal f√ºr Einsteiger:innen, Genie√üer:innen und Profis!</p>

  <div class="row g-4">

    <!-- Karte 1 -->
    <div class="col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm">
        <img src="https://source.unsplash.com/400x250/?zucchini,pasta" class="card-img-top" alt="Zucchini-Pasta mit Walnusspesto" />
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">üåø Zucchini-Pasta mit Walnusspesto</h5>
          <p class="card-text">Frische Zucchini als Nudeln mit w√ºrzigem Walnusspesto.</p>
          <button class="btn btn-success mt-auto" data-bs-toggle="modal" data-bs-target="#recipeModal"
                  data-title="Zucchini-Pasta mit Walnusspesto"
                  data-ingredients="Zucchini (3 St√ºck), Waln√ºsse (50g), Basilikum (1 Bund), Knoblauch (2 Zehen), Oliven√∂l (3 EL), Salz, Pfeffer"
                  data-quantities="3 St√ºck, 50g, 1 Bund, 2 Zehen, 3 EL, nach Geschmack, nach Geschmack"
                  data-prices="1,50 ‚Ç¨, 2,00 ‚Ç¨, 1,20 ‚Ç¨, 0,30 ‚Ç¨, 0,50 ‚Ç¨, - , -"
                  data-description="Zucchini mit einem Spiralschneider in Nudelform bringen. F√ºr das Pesto Waln√ºsse, Basilikum, Knoblauch und Oliven√∂l p√ºrieren. Mit Salz und Pfeffer abschmecken. Die Zucchinispaghetti kurz anbraten und mit dem Pesto vermengen."
          >Mehr erfahren</button>
        </div>
      </div>
    </div>

    <!-- Karte 2 -->
    <div class="col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm">
        <img src="https://source.unsplash.com/400x250/?carrot,drink" class="card-img-top" alt="Karotten-Mule Cocktail" />
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">ü•ï Karotten-Mule Cocktail</h5>
          <p class="card-text">Ein spritziger Drink mit Karottensaft, Limette und Ingwer.</p>
          <button class="btn btn-success mt-auto" data-bs-toggle="modal" data-bs-target="#recipeModal"
                  data-title="Karotten-Mule Cocktail"
                  data-ingredients="Karottensaft (200ml), Limette (1 St√ºck), Ingwer (1 St√ºck), Mineralwasser (100ml), Eisw√ºrfel"
                  data-quantities="200ml, 1 St√ºck, 1 St√ºck, 100ml, nach Bedarf"
                  data-prices="1,00 ‚Ç¨, 0,50 ‚Ç¨, 0,40 ‚Ç¨, 0,30 ‚Ç¨, -"
                  data-description="Frischen Karottensaft mit Limettensaft und Ingwer vermischen. Mineralwasser und Eisw√ºrfel dazugeben. Gut umr√ºhren und eiskalt servieren."
          >Mehr erfahren</button>
        </div>
      </div>
    </div>

    <!-- Karte 3 -->
    <div class="col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm">
        <img src="https://source.unsplash.com/400x250/?sweetpotato,soup" class="card-img-top" alt="S√º√ükartoffel-Kokos-Suppe" />
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">üç† S√º√ükartoffel-Kokos-Suppe</h5>
          <p class="card-text">Cremig, w√§rmend, voll Aroma ‚Äì perfekt f√ºr Herbstabende.</p>
          <button class="btn btn-success mt-auto" data-bs-toggle="modal" data-bs-target="#recipeModal"
                  data-title="S√º√ükartoffel-Kokos-Suppe"
                  data-ingredients="S√º√ükartoffeln (500g), Kokosmilch (400ml), Zwiebel (1 St√ºck), Gem√ºsebr√ºhe (500ml), Ingwer (1 St√ºck), Salz, Pfeffer"
                  data-quantities="500g, 400ml, 1 St√ºck, 500ml, 1 St√ºck, nach Geschmack, nach Geschmack"
                  data-prices="2,00 ‚Ç¨, 1,80 ‚Ç¨, 0,50 ‚Ç¨, 0,40 ‚Ç¨, 0,40 ‚Ç¨, - , -"
                  data-description="Zwiebel und Ingwer anbraten, S√º√ükartoffeln dazugeben, mit Gem√ºsebr√ºhe aufgie√üen und weich kochen. Kokosmilch hinzugeben, p√ºrieren und mit Salz & Pfeffer abschmecken."
          >Mehr erfahren</button>
        </div>
      </div>
    </div>

    <!-- Karte 4 -->
    <div class="col-md-6 col-lg-4">
      <div class="card h-100 shadow-sm">
        <img src="https://source.unsplash.com/400x250/?kimchi,cabbage" class="card-img-top" alt="Kimchi aus heimischem Kohl" />
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">ü•¨ Kimchi aus heimischem Kohl</h5>
          <p class="card-text">Fermentiertes Gem√ºse ganz einfach selbst gemacht.</p>
          <button class="btn btn-success mt-auto" data-bs-toggle="modal" data-bs-target="#recipeModal"
                  data-title="Kimchi aus heimischem Kohl"
                  data-ingredients="Wei√ükohl (1 Kopf), Knoblauch (3 Zehen), Ingwer (1 St√ºck), Chili (2 St√ºck), Salz, Fischsauce (optional)"
                  data-quantities="1 Kopf, 3 Zehen, 1 St√ºck, 2 St√ºck, nach Geschmack, nach Bedarf"
                  data-prices="1,50 ‚Ç¨, 0,30 ‚Ç¨, 0,40 ‚Ç¨, 0,20 ‚Ç¨, - , -"
                  data-description="Kohl klein schneiden, mit Salz einmassieren. Knoblauch, Ingwer und Chili zerkleinern und mischen. Alles zusammen in ein Glas f√ºllen, fermentieren lassen und genie√üen."
          >Mehr erfahren</button>
        </div>
      </div>
    </div>

  </div>

</main>

<!-- Modal -->
<div class="modal fade" id="recipeModal" tabindex="-1" aria-labelledby="recipeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title" id="recipeModalLabel">Rezepttitel</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
      </div>
      <div class="modal-body">
        <h6>Zutaten</h6>
        <table class="table table-sm">
          <thead>
          <tr>
            <th>Zutat</th>
            <th>Menge</th>
            <th>Preis</th>
          </tr>
          </thead>
          <tbody id="ingredientsTableBody">
          <!-- Dynamisch bef√ºllt -->
          </tbody>
        </table>
        <h6>Zubereitung</h6>
        <p id="recipeDescription"></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" id="exportPdfBtn">Als PDF exportieren</button>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schlie√üen</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
  const recipeModal = document.getElementById('recipeModal');
  const recipeModalLabel = document.getElementById('recipeModalLabel');
  const ingredientsTableBody = document.getElementById('ingredientsTableBody');
  const recipeDescription = document.getElementById('recipeDescription');
  const exportPdfBtn = document.getElementById('exportPdfBtn');

  recipeModal.addEventListener('show.bs.modal', event => {
    const button = event.relatedTarget;

    // Daten aus Button-Attributen holen
    const title = button.getAttribute('data-title');
    const ingredients = button.getAttribute('data-ingredients').split(',');
    const quantities = button.getAttribute('data-quantities').split(',');
    const prices = button.getAttribute('data-prices').split(',');
    const description = button.getAttribute('data-description');

    recipeModalLabel.textContent = title;

    // Zutaten-Tabelle f√ºllen
    ingredientsTableBody.innerHTML = '';
    for(let i=0; i < ingredients.length; i++) {
      const tr = document.createElement('tr');
      tr.innerHTML = `<td>${ingredients[i].trim()}</td><td>${quantities[i].trim()}</td><td>${prices[i].trim()}</td>`;
      ingredientsTableBody.appendChild(tr);
    }

    recipeDescription.textContent = description;
  });

  exportPdfBtn.addEventListener('click', () => {
    // Zugriff auf jsPDF Konstruktor aus globalem Namespace
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    // Titel
    doc.setFontSize(18);
    doc.setTextColor(25, 135, 84);
    doc.text(recipeModalLabel.textContent, 10, 20);

    // Zutaten Tabelle
    doc.setFontSize(12);
    doc.setTextColor(0, 0, 0);
    doc.text('Zutaten:', 10, 35);

    let y = 45;
    const lineHeight = 7;
    for (let row of ingredientsTableBody.querySelectorAll('tr')) {
      const cols = row.querySelectorAll('td');
      const line = `${cols[0].textContent} - ${cols[1].textContent} - ${cols[2].textContent}`;
      doc.text(line, 10, y);
      y += lineHeight;
    }

    // Zubereitung
    y += 5;
    doc.text('Zubereitung:', 10, y);
    y += lineHeight;

    const pageWidth = doc.internal.pageSize.getWidth();
    const margin = 10;
    const maxLineWidth = pageWidth - margin * 2;
    const descriptionLines = doc.splitTextToSize(recipeDescription.textContent, maxLineWidth);
    doc.text(descriptionLines, 10, y);

    doc.save(`${recipeModalLabel.textContent}.pdf`);
  });

</script>

<footer class="bg-success text-white text-center py-3 mt-5">
  <p>&copy; 2025 Gem√ºsegenossen Dresden n.e.V.</p>
</footer>

<a href="#" class="btn btn-success position-fixed bottom-0 end-0 m-4 rounded-circle shadow" onclick="window.scrollTo({top:0, behavior:'smooth'});return false;">‚Üë</a>

</body>
</html>
